# ุฑูุฒ ูพูุฌู - ุชุณูุท ุจุฑ ูุฌููุนูโูุง ฺฉุงุณุงูุฏุฑุง: ูุณุชุ ุณุช ู ููพ ุจุง ูุซุงูโูุง ุนูู

![ููฺฏู ฺฉุงุณุงูุฏุฑุง](https://img.shields.io/badge/Apache%20Cassandra-1287B1?style=flat&logo=apache-cassandra&logoColor=white)
[![ูุฌูุฒ: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![ุณุชุงุฑูโูุง ฺฏุชโูุงุจ](https://img.shields.io/github/stars/mrkeshi/cassandra-journey-10days?style=social)](https://github.com/mrkeshi/cassandra-journey-10days)

ุจู **ุฑูุฒ ูพูุฌู** ุงุฒ ุณูุฑ ุงุฏฺฏุฑ ุขูพุงฺ ฺฉุงุณุงูุฏุฑุง ุฎูุด ุขูุฏุฏ! ๐ ุงูุฑูุฒ ุจู ุฏูุง ูุฌุงูโุงูฺฏุฒ **ูุฌููุนูโูุง ฺฉุงุณุงูุฏุฑุง**โูุณุชุ ุณุช ู ููพโุณูุฑ ูโฺฉูู. ุงู ููุน ุฏุงุฏูโูุง ูุฏุฑุชููุฏ ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ุฏุงุฏูโูุง ุณุงุฎุชุงุฑุงูุชู ุฑุง ุฏุฑ ฺฉ ุณุชูู ุฐุฎุฑู ู ูุฏุฑุช ฺฉูุฏ ู ุฌุฏุงูู ุฎูุฏ ุฑุง ุงูุนุทุงูโูพุฐุฑ ู ฺฉุงุฑุขูุฏ ุณุงุฒุฏ. ๐

ุชุง ุงู ูุญุธูุ ุดูุง ุจุง ูุจุงู ฺฉุงุณุงูุฏุฑุงุ ูุตุจุ ูพุฑุณโูุฌููุง CQL ู ูุฏูโุณุงุฒ ุฏุงุฏูโูุง ุขุดูุง ุดุฏูโุงุฏ. ุฏุฑ ุงู ุฑุงูููุงุ ูุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ ฺฉู ฺฺฏููู ุงุฒ ูุฌููุนูโูุง ุจุฑุง ูุฏุฑุช ุฏุงุฏูโูุง ูพฺุฏู ุงุณุชูุงุฏู ฺฉููุ ุนููุงุชโูุง ูุงููุฏ INSERTุ UPDATEุ SELECT ู DELETE ุฑุง ุงูุฌุงู ุฏูู ู ุขูโูุง ุฑุง ุจูโุทูุฑ ูุคุซุฑ ูพุฑุณโูุฌู ฺฉูู. ุจุงุฏ ุจุง ฺฉ ูุซุงู ูุงูุน ูุฌููุนูโูุง ุฑุง ุฌุฐุงุจ ู ฺฉุงุฑุจุฑุฏ ฺฉูู! ๐ช

---

## ๐ ููุฏููโุง ุจุฑ ูุฌููุนูโูุง ฺฉุงุณุงูุฏุฑุง

ูุฌููุนูโูุง ฺฉุงุณุงูุฏุฑุง (ูุณุชุ ุณุช ู ููพ) ุจู ุดูุง ุงูฺฉุงู ูโุฏููุฏ ฺูุฏู ููุฏุงุฑ ุฑุง ุฏุฑ ฺฉ ุณุชูู ุฐุฎุฑู ฺฉูุฏ ู ูุงุฒ ุจู ุฌุฏุงูู ูุชุนุฏุฏ ุง ุงุชุตุงูโูุง ูพฺุฏู ุฑุง ฺฉุงูุด ุฏูุฏ. ุงู ูุฌููุนูโูุง ุจุฑุง ุณูุงุฑููุง ฺฉู ูุงุฒ ุจู ฺฏุฑููโุจูุฏ ุฏุงุฏูโูุง ูุฑุชุจุท ุฏุงุฑุฏุ ูุงููุฏ ุงููโูุง ฺฉุงุฑุจุฑุ ููุดโูุง ุง ุดูุงุฑูโูุง ุชูุงุณุ ุงุฏูโุขู ูุณุชูุฏ. ุฏุฑ ุงุฏุงูู ูฺฏุงู ูุฎุชุตุฑ ุจู ุงู ูุฌููุนูโูุง ุฏุงุฑู:

- **ูุณุช**: ูุฌููุนูโุง ูุฑุชุจ ุงุฒ ุนูุงุตุฑ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ ู ุงูฺฉุงู ุชฺฉุฑุงุฑ ุฏุงุฑุฏ (ูุซุงู: `['email1', 'email2']`).
- **ุณุช**: ูุฌููุนูโุง ูุงูุฑุชุจ ุงุฒ ุนูุงุตุฑ ฺฉุชุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ (ูุซุงู: `{'admin', 'editor'}`).
- **ููพ**: ุฌูุชโูุง ฺฉูุฏ-ููุฏุงุฑ ุฑุง ูุงููุฏ ฺฉ ุฏฺฉุดูุฑ ุฐุฎุฑู ูโฺฉูุฏ (ูุซุงู: `{'home': '123456', 'mobile': '09120000000'}`).

ุฏุฑ ุงู ุฑุงูููุงุ ูุง:
- ฺฉ ุฌุฏูู ููููู ุจู ูุงู `users` ุจุง ูุฑ ุณู ููุน ูุฌููุนู ุงุฌุงุฏ ูโฺฉูู ๐
- ุนููุงุช ุงุตู ุฑุง ุงูุฌุงู ูโุฏูู: INSERTุ SELECTุ UPDATE ู DELETE ๐๏ธ
- ูพุฑุณโูุฌููุง ูพุดุฑูุชู ุจุง ูุฌููุนูโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูู (ูุซู ุฏุณุชุฑุณ ุจู ุนูุงุตุฑ ุฎุงุต) ๐
- ุจูุชุฑู ุดููโูุง ู ูุญุฏูุฏุชโูุง ุฑุง ุจุฑุฌุณุชู ูโฺฉูู โ๏ธ
- ุชูุฑูโูุง ุจุฑุง ุชููุช ุฏุฑฺฉ ุดูุง ุงุฑุงุฆู ูโุฏูู ๐ง

ุจุงุฏ ุดุฑูุน ฺฉูู! ๐

---

## ๐ ุงุฌุงุฏ ฺฉ ุฌุฏูู ููููู ุจุง ูุฌููุนูโูุง

ูุง ฺฉ ุฌุฏูู `users` ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุงุฌุงุฏ ูโฺฉูู ฺฉู ุดุงูู ฺฉ ูุณุช ุงุฒ ุงููโูุงุ ฺฉ ุณุช ุงุฒ ููุดโูุง ู ฺฉ ููพ ุงุฒ ุดูุงุฑูโูุง ุชููู ุงุณุช. ุงู ุฌุฏูู ุฒูู ุจุงุฒ ูุง ุจุฑุง ุชูุงู ุนููุงุช ุฎูุงูุฏ ุจูุฏ.

### ๐ฆ ุชุนุฑู ุฌุฏูู

```sql
CREATE TABLE users (
  username TEXT PRIMARY KEY,
  emails LIST<TEXT>,
  roles SET<TEXT>,
  phones MAP<TEXT, TEXT>
);
```

- **username**: ฺฉูุฏ ุงุตู ฺฉู ูุฑ ฺฉุงุฑุจุฑ ุฑุง ุจูโุตูุฑุช ฺฉุชุง ุดูุงุณุง ูโฺฉูุฏ.
- **emails**: ฺฉ ูุณุช ุจุฑุง ุฐุฎุฑู ฺูุฏู ุขุฏุฑุณ ุงูู (ูุฑุชุจุ ุงูฺฉุงู ุชฺฉุฑุงุฑ ุฏุงุฑุฏ).
- **roles**: ฺฉ ุณุช ุจุฑุง ุฐุฎุฑู ููุดโูุง ฺฉุงุฑุจุฑ (ูุงูุฑุชุจุ ุจุฏูู ุชฺฉุฑุงุฑ).
- **phones**: ฺฉ ููพ ุจุฑุง ุฐุฎุฑู ุดูุงุฑูโูุง ุชููู ุจุง ุจุฑฺุณุจโูุง (ูุซู 'home'ุ 'mobile').

> **ูฺฉุชู**: ูุฌููุนูโูุง ุจุฑุง ูุฌููุนู ุฏุงุฏูโูุง ฺฉูฺฺฉ ู ูุญุฏูุฏ ุงุฏูโุขู ูุณุชูุฏ. ุงุฒ ุฐุฎุฑู ูุฒุงุฑุงู ุนูุตุฑ ุฏุฑ ฺฉ ูุฌููุนู ุฎูุฏุฏุงุฑ ฺฉูุฏุ ุฒุฑุง ุงู ฺฉุงุฑ ูโุชูุงูุฏ ุจุฑ ุนููฺฉุฑุฏ ุชุฃุซุฑ ุจฺฏุฐุงุฑุฏ. ๐

---

## ๐๏ธ ุนููุงุช ุงุตู ุฑู ูุฌููุนูโูุง

ุจุงุฏ ฺูุงุฑ ุนููุงุช ุงุตู (INSERTุ SELECTุ UPDATEุ DELETE) ุฑุง ุฑู ุฌุฏูู `users` ุงูุฌุงู ุฏููุ ุจุง ูุซุงูโูุง ุนูู ู ุฎุฑูุฌโูุง ููุฑุฏ ุงูุชุธุงุฑ.

### โ ฑ. INSERT โ ุงูุฒูุฏู ฺฉ ฺฉุงุฑุจุฑ ุฌุฏุฏ

ฺฉ ฺฉุงุฑุจุฑ ุจู ูุงู 'javad' ุจุง ุฏุงุฏูโูุง ููููู ุจุฑุง ุงููโูุงุ ููุดโูุง ู ุดูุงุฑูโูุง ุชููู ุฏุฑุฌ ูโฺฉูู.

```sql
INSERT INTO users (username, emails, roles, phones)
VALUES (
  'javad',
  ['javad@mail.com', 'me@example.com'],
  {'admin', 'editor'},
  {'home': '021123456', 'mobile': '09120000000'}
);
```

**ฺู ุงุชูุงู ูโุงูุชุฏุ**
- ูุง ฺฉ ฺฉุงุฑุจุฑ ุจุง ุฏู ุงููุ ุฏู ููุด ู ุฏู ุดูุงุฑู ุชููู ุงุถุงูู ูโฺฉูู.
- ูุณุช (`emails`) ุชุฑุชุจ ุฑุง ุญูุธ ฺฉุฑุฏู ู ุงูฺฉุงู ุชฺฉุฑุงุฑ ุฏุงุฑุฏ.
- ุณุช (`roles`) ุงุฒ ุนุฏู ูุฌูุฏ ุชฺฉุฑุงุฑ ุงุทููุงู ูโุฏูุฏ.
- ููพ (`phones`) ฺฉูุฏูุง (ูุซู 'home') ุฑุง ุจุง ููุงุฏุฑ (ูุซู '021123456') ูุฑุชุจุท ูโฺฉูุฏ.

---

### ๐ ฒ. SELECT โ ูพุฑุณโูุฌู ุฏุงุฏูโูุง ูุฌููุนู

ุจุงุฏ ุฏุงุฏูโูุง ฺฉู ุฏุฑุฌ ฺฉุฑุฏู ุฑุง ุจุฎูุงูู ู ุฑูุดโูุง ูุฎุชูู ุจุฑุง ูพุฑุณโูุฌู ุจุฎุดโูุง ุฎุงุต ูุฌููุนูโูุง ุฑุง ุจุฑุฑุณ ฺฉูู.

#### ๐ฅ ฒ.ฑ. ุฏุฑุงูุช ุชูุงู ุฏุงุฏูโูุง ุจุฑุง ฺฉ ฺฉุงุฑุจุฑ

```sql
SELECT * FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 username | emails                               | phones                                         | roles
----------+--------------------------------------+------------------------------------------------+---------------------
 javad    | ['javad@mail.com', 'me@example.com'] | {'home': '021123456', 'mobile': '09120000000'} | {'admin', 'editor'}
```

#### ๐ฅ ฒ.ฒ. ุฏุฑุงูุช ุงููู ุงูู ุงุฒ ูุณุช

ุฏุณุชุฑุณ ุจู ุงููู ุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงูุฏุณ `[0]`:

```sql
SELECT emails[0] FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 emails[0]
------------
 javad@mail.com
```

> **ุชูุฌู**: ูุณุชโูุง ุงุฒ ุตูุฑ ุดุฑูุน ูโุดููุฏ ู ูโุชูุงูุฏ ุจูโุทูุฑ ูุณุชูู ุจุง `[index]` ุจู ุนูุงุตุฑ ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ.

#### ๐ฅ ฒ.ณ. ุฏุฑุงูุช ฺฉ ุดูุงุฑู ุชููู ุฎุงุต ุงุฒ ููพ

ุฏุณุชุฑุณ ุจู ุดูุงุฑู ุชููู 'home' ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏ ููพ:

```sql
SELECT phones['home'] FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 phones['home']
---------------
 021123456
```

#### ๐ฅ ฒ.ด. ุฏุฑุงูุช ุชูุงู ฺฉูุฏูุง ููพ

ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน `keys()` ุจุฑุง ุฏุฑุงูุช ุชูุงู ฺฉูุฏูุง ููพ `phones`:

```sql
SELECT keys(phones) FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 keys(phones)
---------------
 ['home', 'mobile']
```

#### ๐ฅ ฒ.ต. ุฏุฑุงูุช ุชูุงู ููุงุฏุฑ ููพ

ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน `values()` ุจุฑุง ุฏุฑุงูุช ุชูุงู ููุงุฏุฑ ููพ `phones`:

```sql
SELECT values(phones) FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 values(phones)
-------------------
 ['021123456', '09120000000']
```

#### ๐ฅ ฒ.ถ. ุฏุฑุงูุช ฺฉู ุณุช

ุงุฒ ุขูุฌุง ฺฉู ุณุชโูุง ูุงูุฑุชุจ ูุณุชูุฏุ ููโุชูุงูุฏ ุนูุงุตุฑ ุฑุง ุจุง ุงูุฏุณ ุฏุณุชุฑุณ ฺฉูุฏ. ุจู ุฌุง ุขูุ ฺฉู ุณุช ุฑุง ุฏุฑุงูุช ฺฉูุฏ:

```sql
SELECT roles FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 roles
---------------
 {'admin', 'editor'}
```

> **ููู**: ุณุชโูุง ุงุฒ ุงูุฏุณโฺฏุฐุงุฑ (ูุซู `roles[0]`) ูพุดุชุจุงู ููโฺฉููุฏ ุฒุฑุง ูุงูุฑุชุจ ูุณุชูุฏ. ุจุฑุง ููุชุฑ ฺฉุฑุฏู ุงุฒ `CONTAINS` (ฺฉู ุจุนุฏุงู ุชูุถุญ ุฏุงุฏู ูโุดูุฏ) ุงุณุชูุงุฏู ฺฉูุฏ.

---

### ๐ ณ. UPDATE โ ุชุบุฑ ูุฌููุนูโูุง

ูุฌููุนูโูุง ุงุฒ ุจูโุฑูุฒุฑุณุงูโูุง ุงูุนุทุงูโูพุฐุฑ ูุงููุฏ ุงูุฒูุฏูุ ุญุฐู ุง ุฌุงฺฏุฒู ุนูุงุตุฑ ูพุดุชุจุงู ูโฺฉููุฏ.

#### โถ๏ธ ณ.ฑ. ุงูุฒูุฏู ุจู ูุณุช

ุงุถุงูู ฺฉุฑุฏู ฺฉ ุงูู ุฌุฏุฏ ุจู ูุณุช `emails`:

```sql
UPDATE users SET emails = emails + ['new@mail.com'] WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุจูโุฑูุฒุฑุณุงู** (ุจุฑุง ุชุฃุฏ ุฏุฑุงูุช ฺฉูุฏ):

```sql
SELECT emails FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 emails
--------------------------------------
 ['javad@mail.com', 'me@example.com', 'new@mail.com']
```

#### โถ๏ธ ณ.ฒ. ุงูุฒูุฏู ุจู ุณุช

ุงุถุงูู ฺฉุฑุฏู ฺฉ ููุด ุฌุฏุฏ ุจู ุณุช `roles`:

```sql
UPDATE users SET roles = roles + {'viewer'} WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุจูโุฑูุฒุฑุณุงู**:

```sql
SELECT roles FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 roles
----------------------
 {'admin', 'editor', 'viewer'}
```

> **ุชูุฌู**: ุงฺฏุฑ 'viewer' ุงุฒ ูุจู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ฺฉุงุณุงูุฏุฑุง ุขู ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ ุฒุฑุง ุณุชโูุง ุชฺฉุฑุงุฑ ุฑุง ูุฌุงุฒ ููโุฏุงููุฏ.

#### โถ๏ธ ณ.ณ. ุงูุฒูุฏู ุง ุจูโุฑูุฒุฑุณุงู ฺฉ ูุฑูุฏ ููพ

ุงุถุงูู ฺฉุฑุฏู ฺฉ ุดูุงุฑู ุชููู ุฌุฏุฏ ุจุง ฺฉูุฏ 'work':

```sql
UPDATE users SET phones['work'] = '026123456' WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุจูโุฑูุฒุฑุณุงู**:

```sql
SELECT phones FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 phones
------------------------------------------------
 {'home': '021123456', 'mobile': '09120000000', 'work': '026123456'}
```

---

### ๐๏ธ ด. DELETE โ ุญุฐู ุงุฒ ูุฌููุนูโูุง

ูโุชูุงูุฏ ุนูุงุตุฑ ุฎุงุต ุฑุง ุงุฒ ูุฌููุนูโูุง ุญุฐู ฺฉูุฏ ุง ุขูโูุง ุฑุง ุจูโุทูุฑ ฺฉุงูู ุจุงุฒููุณ ฺฉูุฏ.

#### ๐ ด.ฑ. ุญุฐู ฺฉ ุนูุตุฑ ุงุฒ ูุณุช

ุญุฐู ุงูู ุฏูู (ุงูุฏุณ ฑ):

```sql
DELETE emails[1] FROM users WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุญุฐู**:

```sql
SELECT emails FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 emails
-----------------------------
 ['javad@mail.com', 'new@mail.com']
```

#### ๐ ด.ฒ. ุญุฐู ฺฉ ุนูุตุฑ ุงุฒ ุณุช

ุญุฐู ููุด 'editor':

```sql
UPDATE users SET roles = roles - {'editor'} WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุญุฐู**:

```sql
SELECT roles FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 roles
---------------
 {'admin', 'viewer'}
```

#### ๐ ด.ณ. ุญุฐู ฺฉ ฺฉูุฏ ุงุฒ ููพ

ุญุฐู ุดูุงุฑู ุชููู 'mobile':

```sql
DELETE phones['mobile'] FROM users WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุญุฐู**:

```sql
SELECT phones FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 phones
--------------------------------------
 {'home': '021123456', 'work': '026123456'}
```

---

### ๐ ต. ุฌุงฺฏุฒู ฺฉุงูู ฺฉ ูุฌููุนู

ูโุชูุงูุฏ ฺฉ ูุฌููุนู ุฑุง ุจูโุทูุฑ ฺฉุงูู ุจุงุฒููุณ ฺฉูุฏ ู ุชูุงู ุนูุงุตุฑ ูุจู ุขู ุฑุง ุญุฐู ฺฉูุฏ.

#### โ๏ธ ุฌุงฺฏุฒู ฺฉู ูุณุช

ุชูุธู ฺฉ ูุณุช ุฌุฏุฏ ุงุฒ ุงููโูุง:

```sql
UPDATE users SET emails = ['only@mail.com'] WHERE username = 'javad';
```

**ูพุณ ุงุฒ ุฌุงฺฏุฒู**:

```sql
SELECT emails FROM users WHERE username = 'javad';
```

**ุฎุฑูุฌ**:

```
 emails
---------------
 ['only@mail.com']
```

> **ูุดุฏุงุฑ**: ุฌุงฺฏุฒู ฺฉ Raoul ูุฌููุนู ุชูุงู ุฏุงุฏูโูุง ูุจู ุฏุฑ ุขู ุณุชูู ุฑุง ุญุฐู ูโฺฉูุฏ. ุจุง ุงุญุชุงุท ุงุณุชูุงุฏู ฺฉูุฏ! โ๏ธ

---

### ๐งช ถ. ูพุฑุณโูุฌู ูพุดุฑูุชู ุจุง CONTAINS

ุจุฑุง ููุชุฑ ฺฉุฑุฏู ุฑุฏูโูุง ุจุฑ ุงุณุงุณ ููุงุฏุฑ ูุฌููุนูุ ุงุฒ ฺฉููู ฺฉูุฏ `CONTAINS` ุงุณุชูุงุฏู ฺฉูุฏ. ุจุง ุงู ุญุงูุ ุงู ฺฉุงุฑ ูุงุฒ ุจู ฺฉ ุงูุฏฺฉุณ ุฑู ุณุชูู ูุฌููุนู ุฏุงุฑุฏ.

#### ุงุฌุงุฏ ุงูุฏฺฉุณ ุฑู ุณุช `roles`

```sql
CREATE INDEX ON users(roles);
```

> **ุชูุฌู**: ูฺฏุฑุงู ุงูุฏฺฉุณโูุง ูุจุงุดุฏโูุง ุฏุฑ ุฑูุฒ ุดุดู ุจูโุทูุฑ ููุตู ุจู ุขูโูุง ุฎูุงูู ูพุฑุฏุงุฎุช! ูุนูุงู ุจุฏุงูุฏ ฺฉู ุงูุฏฺฉุณ ูพุฑุณโูุฌููุง `CONTAINS` ุฑุง ูุนุงู ูโฺฉูุฏ.

#### ูพุฑุณโูุฌู ฺฉุงุฑุจุฑุงู ุจุง ฺฉ ููุด ุฎุงุต

ุงูุชู ฺฉุงุฑุจุฑุงู ุจุง ููุด 'admin':

```sql
SELECT * FROM users WHERE roles CONTAINS 'admin';
```

**ุฎุฑูุฌ** (ุจุง ูุฑุถ ุงูฺฉู ููุท 'javad' ููุด 'admin' ุฑุง ุฏุงุฑุฏ):

```
 username | emails              | phones                                  | roles
----------+--------------------+-----------------------------------------+---------------
 javad    | ['only@mail.com'] | {'home': '021123456', 'work': '026123456'} | {'admin', 'viewer'}
```

#### ูพุฑุณโูุฌู ููพโูุง ุจุง `CONTAINS KEY` ุง `CONTAINS`

- **CONTAINS KEY**: ููุชุฑ ุจุฑ ุงุณุงุณ ฺฉูุฏูุง ููพ.
- **CONTAINS**: ููุชุฑ ุจุฑ ุงุณุงุณ ููุงุฏุฑ ููพ (ูุงุฒ ุจู ุงูุฏฺฉุณ ุฑู ููุงุฏุฑ).

ูุซุงู (ูุงุฒ ุจู ุงูุฏฺฉุณ ุฑู ููุงุฏุฑ `phones`):

```sql
CREATE INDEX ON users(values(phones));
SELECT * FROM users WHERE phones CONTAINS '021123456';
```

**ุฎุฑูุฌ**:

```
 username | emails              | phones                                  | roles
----------+--------------------+-----------------------------------------+---------------
 javad    | ['only@mail.com'] | {'home': '021123456', 'work': '026123456'} | {'admin', 'viewer'}
```

---

## ๐ ุฎูุงุตู ูฺฺฏโูุง ูุฌููุนูโูุง

ุฏุฑ ุงูุฌุง ููุงุณูโุง ุณุฑุน ุงุฒ ูุณุชุ ุณุช ู ููพ ุขูุฑุฏู ุดุฏู ุงุณุช:

| **ูุฌููุนู** | **ุนููุงุช ุจูโุฑูุฒุฑุณุงู**         | **ูุงุจู ููุชุฑุ**             | **ูฺฉุงุช ฺฉูุฏ**                             |
|-------------|---------------------------------|-----------------------------|-------------------------------------------|
| **ูุณุช**   | ุงูุฒูุฏูุ ูุจุชู ุจุฑ ุงูุฏุณุ ุฌุงฺฏุฒู | ุฎุฑ (ููุท ุฏุณุชุฑุณ ุจู ุงูุฏุณ)   | ูุฑุชุจุ ุงูฺฉุงู ุชฺฉุฑุงุฑ ุฏุงุฑุฏ                    |
| **ุณุช**     | ุงูุฒูุฏู/ุญุฐูุ ุฌุงฺฏุฒู           | ุจูู (ุจุง `CONTAINS` + ุงูุฏฺฉุณ) | ูุงูุฑุชุจุ ุจุฏูู ุชฺฉุฑุงุฑ                      |
| **ููพ**     | ุงูุฒูุฏู/ุญุฐู ุจุฑ ุงุณุงุณ ฺฉูุฏุ ุฌุงฺฏุฒู | ุจูู (ุจุง `CONTAINS`/`KEY` + ุงูุฏฺฉุณ) | ุฌูุชโูุง ฺฉูุฏ-ููุฏุงุฑุ ูุงููุฏ ุฏฺฉุดูุฑ        |

**ุจูุชุฑู ุดููโูุง**:
- ุงุฒ ูุณุชโูุง ุจุฑุง ุฏุงุฏูโูุง ูุฑุชุจ ฺฉู ุชฺฉุฑุงุฑ ุฏุฑ ุขูโูุง ูุฌุงุฒ ุงุณุช (ูุซู ูุงฺฏโูุง ุฑูุฏุงุฏ) ุงุณุชูุงุฏู ฺฉูุฏ.
- ุงุฒ ุณุชโูุง ุจุฑุง ุฏุงุฏูโูุง ฺฉุชุง ู ูุงูุฑุชุจ (ูุซู ุจุฑฺุณุจโูุง ุง ููุดโูุง) ุงุณุชูุงุฏู ฺฉูุฏ.
- ุงุฒ ููพโูุง ุจุฑุง ุฏุงุฏูโูุง ฺฉูุฏ-ููุฏุงุฑ (ูุซู ุชูุธูุงุช ุง ุฌุฒุฆุงุช ุชูุงุณ) ุงุณุชูุงุฏู ฺฉูุฏ.
- ูุฌููุนูโูุง ุฑุง ฺฉูฺฺฉ ูฺฏู ุฏุงุฑุฏ (<ฑฐฐ ุนูุตุฑ) ุชุง ุงุฒ ูุดฺฉูุงุช ุนููฺฉุฑุฏ ุฌููฺฏุฑ ุดูุฏ.
- ุงูุฏฺฉุณโูุง ุฑุง ุจุง ุงุญุชุงุท ุงุณุชูุงุฏู ฺฉูุฏุ ุฒุฑุง ูุฒูู ููุดุชู ุฑุง ุงูุฒุงุด ูโุฏููุฏ.

**ูุญุฏูุฏุชโูุง**:
- ูุฌููุนูโูุง ููโุชูุงููุฏ ุจุฎุด ุงุฒ ฺฉูุฏ ุงุตู ุจุงุดูุฏ.
- ูพุฑุณโูุฌููุง `CONTAINS` ูุงุฒ ุจู ุงูุฏฺฉุณ ุฏุงุฑูุฏ ฺฉู ุฏุฑ ุฑูุฒ ุดุดู ุจุฑุฑุณ ูโฺฉูู.
- ูุฌููุนูโูุง ุจุฒุฑฺฏ ูโุชูุงููุฏ ุฎูุงูุฏู ู ููุดุชู ุฑุง ฺฉูุฏ ฺฉููุฏโุจุง ุฏูุช ุทุฑุงุญ ฺฉูุฏ.

---

## ๐ง ุชูุฑูโูุง ุจุฑุง ุขุฒูุงุด ููุงุฑุชโูุง ุดูุง

ฑ. **ุงุฌุงุฏ ุฌุฏูู**: ฺฉ ุฌุฏูู `products` ุจุง ฺฉ ูุณุช ุงุฒ ุฏุณุชูโุจูุฏโูุงุ ฺฉ ุณุช ุงุฒ ุจุฑฺุณุจโูุง ู ฺฉ ููพ ุงุฒ ูฺฺฏโูุง (ูุซู ุฑูฺฏุ ุงูุฏุงุฒู) ุทุฑุงุญ ฺฉูุฏ. ฺฉ ูุญุตูู ููููู ุฏุฑุฌ ฺฉูุฏ.
ฒ. **ุชูุฑู ูพุฑุณโูุฌู**: ฺฉ ูพุฑุณโูุฌู ุจุฑุง ุฏุฑุงูุช ุฏููู ุฏุณุชูโุจูุฏ ุงุฒ ูุณุช ุฌุฏูู `products` ุจููุณุฏ.
ณ. **ฺุงูุด ุจูโุฑูุฒุฑุณุงู**: ฺฉ ุจุฑฺุณุจ ุฌุฏุฏ ุจู ุณุช `tags` ุงุถุงูู ฺฉูุฏ ู ฺฉ ูฺฺฏ ุฑุง ุงุฒ ููพ `attributes` ุญุฐู ฺฉูุฏ.
ด. **ูพุฑุณโูุฌู ูพุดุฑูุชู**: ฺฉ ุงูุฏฺฉุณ ุฑู ุณุช `tags` ุงุฌุงุฏ ฺฉูุฏ ู ูุญุตููุงุช ุจุง ฺฉ ุจุฑฺุณุจ ุฎุงุต ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ `CONTAINS` ูพุฑุณโูุฌู ฺฉูุฏ.